<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.web.app.mapper.UpdNegotiationsDataMapper">
    <!--  -->
    <select id="SearchCaseNegotiations" resultType="com.web.app.domain.Entity.CaseNegotiations">
        SELECT
            *
        FROM
            case_negotiations
        WHERE
            CaseId = #{caseId}
    </select>

    <update id="UpCaseNegotiations" parameterType="com.web.app.domain.Entity.CaseNegotiations">
        UPDATE case_negotiations
        SET
            ExpectResloveTypeValue = #{ExpectResloveTypeValue},
            OtherContext = #{OtherContext},
            PayAmount = #{PayAmount},
            CounterClaimPayment = #{CounterClaimPayment},
            PaymentEndDate = #{PaymentEndDate},
            ShipmentPayType = #{ShipmentPayType},
            SpecialItem = #{SpecialItem},
            HtmlContext = #{HtmlContext},
            HtmlContext2 = #{HtmlContext2},
            SubmitDate = #{SubmitDate},
            Status = #{Status},
            LastModifiedDate = CURRENT_TIMESTAMP(),
            LastModifiedBy = #{UserId}
        WHERE
            id = #{id}
    </update>

    <update id="UpFile" parameterType="com.web.app.domain.Entity.File">
        UPDATE files
        SET
            DeleteFlag = 1,
            LastModifiedDate = CURRENT_TIMESTAMP(),
            LastModifiedBy = #{LastModifiedBy}
        WHERE
            id = #{id}
    </update>

    <update id="UpCaseFileRelations" parameterType="com.web.app.domain.Entity.CaseFileRelations">
        UPDATE case_file_relations
        SET
            DeleteFlag = 1,
            LastModifiedDate = CURRENT_TIMESTAMP(),
            LastModifiedBy = #{LastModifiedBy}
        WHERE
            fileId = #{fileId}
    </update>
</mapper>