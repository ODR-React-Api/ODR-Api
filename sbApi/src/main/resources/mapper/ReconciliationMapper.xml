<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.web.app.mapper.ReconciliationMapper">

<select id="reconciliationUserSearch" resultType="com.web.app.domain.ReconciliationUser">
 SELECT
            HtmlContext,
            HtmlContext2,
            AgreementDate,
            Status
        FROM
            case_negotiations
        WHERE
            CaseId = #{CaseId}
            AND DeleteFlag = false
</select>

 <update id="reconciliationUpdate" parameterType="com.web.app.domain.ReconciliationUser">
        UPDATE case_negotiations
        SET
            <!-- AgreementDate = #{AgreementDate}, -->
             AgreementDate = NOW(),
            HtmlContext = #{HtmlContext},
            HtmlContext2 = #{HtmlContext2},
            Status = 3,
            <!-- LastModifiedDate = #{LastModifiedDate}, -->
            LastModifiedDate = NOW(),
            LastModifiedBy = #{LastModifiedBy}
        WHERE
            id = #{id}
</update> 
</mapper>